!function(b){function c(){b(a).each(function(){e(b(this)).removeClass("open")})}function e(a){var d=a.attr("data-target");d||(d=(d=a.attr("href"))&&/#/.test(d)&&d.replace(/.*(?=#[^\s]*$)/,""));d=b(d);d.length||(d=a.parent());return d}var a="[data-toggle=dropdown]",d=function(a){var d=b(a).on("click.dropdown.data-api",this.toggle);b("html").on("click.dropdown.data-api",function(){d.parent().removeClass("open")})};d.prototype={constructor:d,toggle:function(){var a=b(this),d,f;if(!a.is(".disabled, :disabled"))return d=
e(a),f=d.hasClass("open"),c(),f||d.toggleClass("open"),a.focus(),!1},keydown:function(a){var d,f,c;if(/(38|40|27)/.test(a.keyCode)&&(d=b(this),a.preventDefault(),a.stopPropagation(),!d.is(".disabled, :disabled"))){f=e(d);c=f.hasClass("open");if(!c||c&&27==a.keyCode)return d.click();d=b("[role=menu] li:not(.divider):visible a",f);d.length&&(f=d.index(d.filter(":focus")),38==a.keyCode&&0<f&&f--,40==a.keyCode&&f<d.length-1&&f++,~f||(f=0),d.eq(f).focus())}}};var f=b.fn.dropdown;b.fn.dropdown=function(a){return this.each(function(){var f=
b(this),c=f.data("dropdown");c||f.data("dropdown",c=new d(this));"string"==typeof a&&c[a].call(f)})};b.fn.dropdown.Constructor=d;b.fn.dropdown.noConflict=function(){b.fn.dropdown=f;return this};b(document).on("click.dropdown.data-api touchstart.dropdown.data-api",c).on("click.dropdown touchstart.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("touchstart.dropdown.data-api",".dropdown-menu",function(a){a.stopPropagation()}).on("click.dropdown.data-api touchstart.dropdown.data-api",
a,d.prototype.toggle).on("keydown.dropdown.data-api touchstart.dropdown.data-api",a+", [role=menu]",d.prototype.keydown)}(window.jQuery);(function(b,c){function e(a){return")]}'\n"==a.slice(0,5)?c.parseJSON(a.substring(5)):a}window.version_mismatch_has_occurred=!0;b.version=function(){return version};b.cacheVersion=function(){return cacheVersion};b.getHashConvertedUrl=function(a){var d=window.location.pathname;window.location.hash&&(d+="/"+window.location.hash.slice(1));a&&(a=window.location.search,a=a.replace(/([?&])mp-r-id=[^&]*&?/,"$1").replace(/&$/,""),"?"==a&&(a=""),d+=a);return d};b.fetchTemplates=function(a,d){c.ajax({dataType:"html",
type:"GET",url:a,success:function(a){c("head").append(a);c('script[type="text/x-handlebars"]').each(function(a,d){d=c(d);Ember.TEMPLATES[d.attr("data-template-name")]=Ember.Handlebars.compile(d.html());d.remove()});d&&d()},error:function(){alert("Request for template file "+a+" failed.")}})};b.ajaxREST=function(a,d,f,b){(new Date).getTime();request_seq=a.split(" ");method=request_seq[0];path=request_seq[1];headers={};headers["X-XSRF-Token"]=document.cookie.match(/(^|; *)XSRF-TOKEN=(.*?)(;|$)/)[2];
a={type:method,dataType:"text",url:"/api"+path,headers:headers,dataFilter:e,success:function(a,d,b){f&&f(a,b)},error:function(a,d,f){if(b)b(e(a.responseText,"text"),a);else{if(!f||"OK"==f)f=e(a.responseText,"text").error;alert(""+d+" "+a.status+": "+f)}}};c.isEmptyObject(d)||c.extend(a,{contentType:"GET"==method?"application/x-www-form-urlencoded":"application/json; charset=utf-8",data:"GET"==method?{json:JSON.stringify(d)}:JSON.stringify(d),cache:!d.fresh});c.ajax(a)};b.pushTrackingEvent=function(a,
d,f,b){a=["_trackEvent",a,d];void 0!==f&&a.push(f);void 0!==b&&a.push(b);_gaq&&_gaq.push(a)};b.getScriptCached=function(a,d){return c.ajax({dataType:"script",cache:!0,url:a,success:d})};b.getUrlQueryParams=function(){var a={},d=window.location.search;d&&c.each(d.substr(1).split("&"),function(d,b){var c=b.split("=");a[c[0].toString()]=c[1].toString()});return a};b.getDecodedURIComponent=function(a){return(a=b.getUrlQueryParams()[a])?decodeURIComponent(a):a}})(window.UY=window.UY||{},jQuery);angular.module("udacity.core",["services","controllers","directives","filters","meta"]);angular.module("services","services.utility services.reviews services.blogFeed services.forum services.user services.auth services.content services.dummyData".split(" "));angular.module("controllers",["controllers.courseCatalog","controllers.lesson","controllers.reviews","controllers.editor","controllers.myCourses"]);
angular.module("directives",["directives.user","directives.utility","directives.reviews","directives.forum","directives.myCourses"]);angular.module("filters",["filters.dates"]);angular.module("meta",["meta.configuration"]);angular.module("services.lesson",[]);angular.module("directives.lesson",[]);angular.module("controllers.lesson",[]);angular.module("controllers.settings",[]);angular.module("directives.location",[]);angular.module("controllers.courseCatalog",[]);
angular.module("controllers.myCourses",[]);angular.module("directives.myCourses",[]);angular.module("services.utility",[]);angular.module("directives.utility",[]);angular.module("directives.reviews",[]);angular.module("services.reviews",[]);angular.module("controllers.reviews",[]);angular.module("services.blogFeed",[]);angular.module("directives.forum",[]);angular.module("services.forum",[]);angular.module("filters.dates",[]);angular.module("services.editor",[]);
angular.module("directives.editor",[]);angular.module("controllers.editor",[]);angular.module("meta.configuration",[]);angular.module("services.content",[]);angular.module("services.user",[]);angular.module("directives.user",[]);angular.module("services.auth",[]);angular.module("services.dummyData",[]);angular.module("youtube",[]);angular.module("udacity",["udacity.core"]);angular.module("udacity.viewer",["udacity.core","youtube","services.lesson","directives.lesson","controllers.lesson"]);
angular.module("udacity.overview",["udacity.core","youtube"]);angular.module("udacity.courseCatalog",["udacity.core"]);angular.module("udacity.editor",["udacity.core","services.editor","directives.editor","controllers.editor"]);angular.module("udacity.settings",["udacity.core","controllers.settings","directives.location"]);angular.module("udacity.core").config(["$locationProvider",function(b){b.html5Mode(!1);b.hashPrefix("!")}]);window.UYSocial={};
(function(b){var c={client_id:"620121594665.apps.googleusercontent.com",scope:"https://www.googleapis.com/auth/userinfo.profile https://www.googleapis.com/auth/userinfo.email"};b.runWhenReadyFacebook=function(a){b.facebookLoaded?a():(b.facebookLoadedCallbacks=b.facebookLoadedCallbacks||[],b.facebookLoadedCallbacks.push(a))};b.runWhenReadyTwitter=function(a){b.twitterLoaded?a():(b.twitterLoadedCallbacks=b.twitterLoadedCallbacks||[],b.twitterLoadedCallbacks.push(a))};b.runWhenReadyGoogle=function(a){b.googleLoaded?
a():(b.googleLoadedCallbacks=b.googleLoadedCallbacks||[],b.googleLoadedCallbacks.push(a))};b.getFacebookAuthResponse=function(a){b.runWhenReadyFacebook(function(){var d=window.FB.getAuthResponse();d?a(d):window.FB.login(function(d){d.authResponse&&a(d.authResponse)},{scope:"email"})})};b.getFacebookMeResponse=function(a){b.runWhenReadyFacebook(function(){window.FB.getLoginStatus(function(){window.FB.api("/me",function(d){a(d)})})})};b.getGoogleToken=function(a,d){b.runWhenReadyGoogle(function(){window.gapi.auth.authorize($.extend({response_type:"code",
immediate:a},c),function(a){a.code&&d(a)})})};b.getGoogleMeResponse=function(a){b.runWhenReadyGoogle(function(){window.gapi.auth.authorize($.extend({immediate:!0},c),function(){window.gapi.client.load("oauth2","v2",function(){window.gapi.client.oauth2.userinfo.get().execute(function(d){a(d)})})})})};var e=function(){if(b.googlePlusoneLoaded&&b.googleAuthLoaded&&(b.googleLoaded=!0,b.googleLoadedCallbacks))for(var a=0;a<b.googleLoadedCallbacks.length;a++)b.googleLoadedCallbacks[a]()};setTimeout(function(){if(!b.facebookLoaded){$("body").append('<div id="fb-root"></div>');
window.fbAsyncInit=function(){window.FB.init({appId:365362206864879,channelUrl:"//"+window.location.host+"/facebookChannel.html",status:!0,cookie:!0,xfbml:!0});b.facebookLoaded=!0;if(b.facebookLoadedCallbacks)for(var a=0;a<b.facebookLoadedCallbacks.length;a++)b.facebookLoadedCallbacks[a]()};var a,d=document.getElementsByTagName("script")[0];document.getElementById("facebook-jssdk")||(a=document.createElement("script"),a.id="facebook-jssdk",a.async=!0,a.src="//connect.facebook.net/en_US/all.js",d.parentNode.insertBefore(a,
d))}},200);setTimeout(function(){b.twitterLoaded||UY.getScriptCached("//platform.twitter.com/widgets.js",function(){if(window.twttr&&(b.twitterLoaded=!0,b.twitterLoadedCallbacks))for(var a=0;a<b.twitterLoadedCallbacks.length;a++)b.twitterLoadedCallbacks[a]()})},200);setTimeout(function(){b.googlePlusoneLoaded||UY.getScriptCached("https://apis.google.com/js/plusone.js",function(){window.gapi&&window.gapi.plusone&&(b.googlePlusoneLoaded=!0,e())})},200);setTimeout(function(){!1!==window.initGoogleAuth&&
(window.initGoogleAuth=function(){window.gapi.auth.init(function(){window.initGoogleAuth=!1;b.googleAuthLoaded=!0;e()})},UY.getScriptCached("https://apis.google.com/js/client.js?onload=initGoogleAuth"))},200)})(window.UYSocial);angular.module("services.utility").factory("callbackList",function(){return{create:function(){var b=[],c,e=!1,a={add:function(d,f,h){b.push(d);e&&f?(d(c),h&&a.remove(d)):h&&(d._removeOnFire=!0);return a},remove:function(d){for(var f=b.length,c=0;c<f;c++)b[c]===d&&(b.splice(c,1),c-=1);return a},fire:function(d){var f,h=b.length;for(f=0;f<h;f++)try{b[f](d)}catch(g){console.error("Exception encountered in callback:"+g.message)}c=d;e=!0;for(f=0;f<b.length;f++)!0===b[f]._removeOnFire&&(a.remove(b[f]),
f-=1);return a},_getCallbacks:function(){return b}};return a}}});angular.module("services.utility").service("mixin",["callbackList",function(b){return{eventEmission:function(c,e){var a=_.object(_.map(e,function(a){return[a,b.create()]}));if(!_.isArray(e)||!_.all(e,function(a){return _.isString(a)}))throw"eventNames must be an array of strings";if(!_.isObject(c))throw"targetObject must be an object to mix into";var d=function(d,b,e){if(a[d])e();else throw b;return c};if(_.intersection(_.keys(c),["addEventListener","removeEventListener","emitEvent"]).length)throw"Can't add event methods--they already exist!";
c.addEventListener=function(b,e,g){var g=g||{},i=_.without(_.keys(g),"replayLast","removeOnDestructionOf","removeAfterFired");if(i.length)throw Error("Unsupported options "+i+" when adding event listener");return d(b,'Cannot listen for non-emitted event "'+b+'"',function(){if(!_.isFunction(e))throw Error('You must provide a callback to run when the "'+b+'" event is emitted');a[b].add(e,g.replayLast,g.removeAfterFired);_.isObject(g.removeOnDestructionOf)&&g.removeOnDestructionOf.$on&&g.removeOnDestructionOf.$on("$destroy",
function(){c.removeEventListener(b,e)})})};c.removeEventListener=function(b,c){return d(b,'Cannot remove listener from non-emitted event "'+b+'"',function(){a[b].remove(c)})};c.emitEvent=function(b,c){return d(b,"Cannot emit invalid event "+b+". Add to exposed events when mixing in.",function(){if(void 0===c||null===c)c={};a[b].fire(c)})};return c}}}]);angular.module("services.utility").factory("api",["$http",function(b){var c={get:function(e,a,d){var f=(new Date).getTime();return c.timeRequest(b.get("/api"+e,a,d),f)},post:function(e,a,d){var f=(new Date).getTime();return c.timeRequest(b.post("/api"+e,a,d),f)},deleteRequest:function(e,a,d){var f=(new Date).getTime();return c.timeRequest(b["delete"]("/api"+e,a,d),f)},timeRequest:function(b,a){return b.success(function(d,b,c){d=c("X-Udacity-Trail");b=(new Date).getTime()-a;c=window.location.pathname+
window.location.hash;0<=b&&36E5>b&&_gaq&&_gaq.push(["_trackTiming",d,"request",b,c])})}};return c}]);angular.module("services.utility").factory("urlParams",function(){return{getUrlQueryParams:UY.getUrlQueryParams,getDecodedURIComponent:UY.getDecodedURIComponent}});angular.module("services.auth").factory("auth",["api","user","mixin","urlParams",function(b,c,e,a){c.setUser(c.getBaseUser());c.getBaseUser().registered&&b.get("/users/me").success(function(a){var b=c.translateUserFromApi(a.user);b.enrollments=a.user.enrollments;c.setUser(b)}).error(function(a,b,d,c){console.warn("The initial user fetch failed...");console.log({status:b,data:a,config:c})});var d=e.eventEmission({logInHelper:function(a,c,e,i,k,j){d.emitEvent("logIn");var l={};c&&(l={udacity:{username:a,
password:c}});i&&(l.facebook={signed_request:i},l.connect=j);k&&(l.google={token:k},l.connect=j);b.post("/session",l).success(function(){d.emitEvent("logInSuccess")}).error(e)},logInAndConnect:function(a,b,c,e){d.logInHelper(a,b,function(a,b,c,e){d.emitEvent("logInFailure",{status:b,data:a,config:e,headers:c})},c,e,!(!c&&!e))},logUserOut:function(){d.emitEvent("logOut");b.deleteRequest("/session").success(function(a,b,c,e){console.log("user logged out");console.log({status:b,data:a,config:e});d.emitEvent("logOutSuccess")}).error(function(a,
b,c,e){console.warn("User tried to log out and failed!");console.log("Debug data:");console.log({status:b,data:a,config:e});d.emitEvent("logOutFailure")})},signUserUp:function(e,h,g,i,k,j,l,m){b.post("/users",{first_name:e,last_name:h,email_address:g,password:i,facebook:j?{signed_request:j}:null,google:l?{token:l}:null,tos_accepted:m}).success(function(b){if(null===b.user)console.log('Got back a null user! You are null, and while not valid in this language, I\'m going to call you "void" too.');else{var e=
a.getDecodedURIComponent("enroll");e?UY.pushTrackingEvent("SignUp","Enroll",e):UY.pushTrackingEvent("SignUp","Direct","");b=c.translateUserFromApi(b.user);c.setUser(b);d.emitEvent("signUpSuccess")}}).error(function(a,b,c,e){d.emitEvent("signUpFailure",{status:b,data:a,config:e,headers:c})})},logUserInSocial:function(a,b,c){d.logInHelper(null,null,function(a,b,e,f){502===b?(console.log("something failed with Facebook or the signed request"),d.emitEvent("logInFailure",{status:b,data:a,config:f,headers:e})):
403===b?c():console.log("unknown failure "+b)},a,b,!1)},getFacebookSignedRequest:function(){return a.getUrlQueryParams().fsr},getGoogleTokenCode:function(){return a.getUrlQueryParams().gtc},socialAccountNotFoundRedirect:function(b,d,c){var e={next:a.getDecodedURIComponent("next")||window.location.href};a.getDecodedURIComponent("enroll")&&(e.enroll=a.getDecodedURIComponent("enroll"));b&&(e.fsr=b);d&&(e.gtc=d);window.location.href="signin"===c?"/account/signin_connect?"+$.param(e):"/account/signup_connect?"+
$.param(e)},loggedInAction:function(){var b=function(){var b=a.getDecodedURIComponent("next");b?window.location.href=b:window.location.reload()},d=a.getDecodedURIComponent("enroll");d?(c.addEventListener("changeEnrollmentComplete",b),c.changeEnrollment(d,!0)):b()}},"logIn logInSuccess logInFailure logInValidation signUp signUpSuccess signUpFailure signUpValidation logOut logOutSuccess logOutFailure".split(" "));return d}]);angular.module("services.utility").factory("validator",[function(){var b={valid:!0,errorText:""},c={noop:function(){return b},required:function(c,a){return"string"===typeof c&&""===c.replace(/^\s\s*/,"").replace(/\s\s*$/,"")||"undefined"===typeof c||"boolean"===typeof c&&!c?{valid:!1,errorText:a+" is required."}:b},strLen:function(c,a,d){("string"!==typeof c||"string"!==typeof a||"object"!==typeof d||2!==d.length)&&console.error("Wrong parameters passed to strLen validator for "+a);var c=c.length,
f=d[0],d=d[1];if("number"===typeof f&&"number"===typeof d){if(c<f||c>d)return{valid:!1,errorText:a+" has to be between "+f+" and "+d+" characters long."}}else{if("number"===typeof f&&c<f)return{valid:!1,errorText:a+" has to be more than "+f+(1>=f?" character":" characters")+" long."};if("number"===typeof d&&c>d)return{valid:!1,errorText:a+" has to be "+(1>=d?"less than 1 character":"fewer than "+d+" characters")+" long."}}return b},email:function(c,a){("string"!==typeof c||"string"!==typeof a)&&console.error("Wrong parameters passed to email validator for "+
a);return/^[a-z0-9!#$%&'*+\/=?\^_`{|}~\-]+(?:\.[a-z0-9!#$%&'*+\/=?\^_`{|}~\-]+)*@(?:[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9\-]*[a-z0-9])?$/i.test(c)?b:{valid:!1,errorText:a+" has to be a valid email address"}},equal:function(c,a,d){("string"!==typeof c&&"number"!==typeof c&&"boolean"!==typeof c||"object"!==typeof d||2!==d.length)&&console.error("Wrong parameters passed to equal validator for "+a);"string"!==typeof c&&("number"!==typeof c&&"boolean"!==typeof c)&&console.error('Validator "Equal" only works for strings, numbers, and booleans. Tried '+
typeof c+" for "+a);return c===d[0]?b:{valid:!1,errorText:a+" and "+d[1]+" have to be the same."}}};return{check:function(b){var a,d={valid:!0,errorText:{}},f,h;for(h in b)if(b.hasOwnProperty(h)){a=b[h];for(var g=0;g<a.validators.length;g++)if(f=a.validators[g],"undefined"===typeof f.disabled||!1===f.disabled)if("function"===typeof c[f.type]){var i=a.value,k=a.pretty,j=c[f.type](i,k,f.args||[]);j.valid?f.hasOwnProperty("chained")&&(j={},j[h]={pretty:k,value:i,validators:f.chained},f=this.check(j),
!1===f.valid&&(d.valid=!1,d.errorText[h]=d.errorText[h]||[],d.errorText[h]=d.errorText[h].concat(f.errorText[h]))):(d.valid=!1,d.errorText[h]=d.errorText[h]||[],d.errorText[h].push("undefined"===typeof f.failMsg?j.errorText.charAt(0).toUpperCase()+j.errorText.slice(1):f.failMsg))}else console.warn("You tried to use a validator that doesn't exist! The name you tried to use was: "+f.type)}return d}}}]);angular.module("services.user").factory("user",["api","mixin","basicUser",function(b,c,e){for(var a="bio email emailPreferences employerSharing enrollments facebookId firstName googleId enrollments badges hasPassword imageUrl key lastName linkedinUrl location nickname occupation principals registered resume sitePreferences websiteUrl".split(" "),d=function(a,b){var c={},e;for(e in b)if(b.hasOwnProperty(e))if("object"===typeof b[e]){if("undefined"!==typeof a[e]&&null!==a[e]){var f=d(a[e],b[e][1]);
f!=={}&&(c[b[e][0]]=f)}}else c[b[e]]="undefined"!==typeof a[e]?a[e]:null;return c},f=function(a){a=d(a,{first_name:"firstName",last_name:"lastName",registered:"registered",image_url:"imageUrl",key:"key",has_password:"hasPassword",employer_sharing:"employerSharing",nickname:"nickname",email:["email",{verified:"verified",verification_code_sent:"verificationCodeSent",address:"address"}],email_preferences:["emailPreferences",{master_ok:"masterOK",ok_course:"okCourse"}],site_preferences:["sitePreferences",
{use_html5_player:"useHtml5Player",auto_advance:"autoAdvance",playback_rate:"playbackRate",video_quality:"videoQuality"}],enrollments:"enrollments",bio:"bio",occupation:"occupation",location:["location",{display_place:"displayPlace",places:"places",coordinates:"coordinates"}],linkedin_url:"linkedinUrl",website_url:"websiteUrl",facebook_id:"facebookId",google_id:"googleId",resume:["resume",{processing_state:"processingState",uri:"url",size:"size",last_upload_time:"lastUploadTime"}],_badges:"badges",
principals:"principals"});a.hasOwnProperty("emailPreferences")||(a.emailPreferences={masterOK:!0});return a},h=f(e),g={},e=0;e<a.length;e++)g[a[e]]=null;var i=c.eventEmission({userIsLoggedIn:function(){return h.registered},unsetUser:function(){for(var b=0;b<a.length;b++)g[a[b]]=null;i.emitEvent("userUnset",{user:g});i.emitEvent("userChanged",{user:g})},getUser:function(){return g},getBaseUser:function(){return h},setUser:function(b){for(var c=0;c<a.length;c++)b.hasOwnProperty(a[c])&&(g[a[c]]=b[a[c]]);
h=angular.copy(g);i.emitEvent("userSet",{user:g});i.emitEvent("userChanged",{user:g})},getUserProp:function(a){return g.hasOwnProperty(a)?g[a]:null},translateUserFromApi:f,isEnrolledIn:function(a){return 0<_.filter(g.enrollments,function(b){return b.node_key===a&&b.is_enrolled}).length},isCourseEmailSubscribed:function(a){return 0<_.filter(g.enrollments,function(b){return b.node_key===a&&b.email_ok}).length},changeEnrollment:function(a,c){var d={},e=c?"node_keys_to_join":"node_keys_to_leave";d[e]=
[a];b.post("/users/me/enrollments",d).success(function(b){g.enrollments=b.enrollments;b={action:"unenroll"};"node_keys_to_join"===e&&(b.action="enroll");UY.pushTrackingEvent("Enrollment",c?"Enroll":"Unenroll",a);i.emitEvent("changeEnrollmentComplete",b)}).error(function(){console.warn("Failed to join/leave course");i.emitEvent("changeEnrollmentComplete")})},changeEnrollmentSettings:function(a,c){b.post("/users/me/enrollments/"+encodeURIComponent(a)+"/settings",c).success(function(a){g.enrollments=
a.enrollments;i.emitEvent("changeEnrollmentSettingsComplete",a)}).error(function(){console.warn("Failed to change enrollment settings")})},requestPasswordReset:function(a){b.post("/users/send_password_reset_email",{email_address:a}).success(function(a,b,c,d){i.emitEvent("requestPasswordResetSuccess",{status:b,data:a,config:d,headers:c})}).error(function(a,b,c,d){i.emitEvent("requestPasswordResetFailure",{status:b,data:a,config:d,headers:c})})},requestUnsubscribe:function(a){b.post("/users/unsubscribe",
{email_address:a}).success(function(a,b,c,d){i.emitEvent("requestUnsubscribeSuccess",{status:b,data:a,config:d,headers:c})}).error(function(a,b,c,d){i.emitEvent("requestUnsubscribeFailure",{status:b,data:a,config:d,headers:c})})},resetPassword:function(a,c,d){b.post("/users/"+c+"/reset_password",{password:a,code:d}).success(function(a,b,c,d){i.emitEvent("resetPasswordSuccess",{status:b,data:a,config:d,headers:c})}).error(function(a,b,c,d){i.emitEvent("resetPasswordFailure",{status:b,data:a,config:d,
headers:c})})}},"userChanged userSet userUnset changeEnrollmentComplete changeEnrollmentSettingsComplete requestPasswordResetSuccess requestPasswordResetFailure requestUnsubscribeSuccess requestUnsubscribeFailure resetPasswordSuccess resetPasswordFailure".split(" "));return i}]);angular.module("services.blogFeed").factory("blogFeed",["$http","$q",function(b,c){var e=c.defer();b.jsonp("//ajax.googleapis.com/ajax/services/feed/load?v=1.0&num=5&callback=JSON_CALLBACK&q="+encodeURIComponent("http://blog.udacity.com/feeds/posts/default")).success(function(a){var b=[];_.each(a.responseData.feed.entries,function(a){b.push({date:a.publishedDate.slice(0,16),title:a.title,link:a.link})});e.resolve(b)});return{posts:e.promise}}]);angular.module("directives.utility").directive("autofocusOnClick",["$timeout",function(b){return{restrict:"A",link:function(c,e){e.click(function(){b(function(){$("input[autofocus]").focus()},0,!1)})}}}]).directive("autofocusOnInit",["$timeout",function(b){return{restrict:"A",link:function(c,e){b(function(){e.find("input[autofocus]").focus()},0,!1)}}}]);angular.module("directives.user").directive("signUp",["user","auth","validator",function(b,c,e){return{restrict:"A",controller:["$scope",function(){}],link:function(a){a.signUp=c.signUserUp;a.isLoggedIn=b.userIsLoggedIn;a.user=b.getUser;a.firstName="";a.lastName="";a.email="";a.password="";a.passwordConfirm="";a.acceptTos=!1;a.signUpErrors=[];a.signUpErrorFields=[];a.signUp=function(b,f,h,g,i,k,j){a.buttonDisabled=!0;a.signUpErrors=[];a.signUpErrorFields=[];var l={firstName:{pretty:"first name",value:b,
validators:[{type:"required"}]},lastName:{pretty:"last name",value:f,validators:[{type:"required"}]},email:{pretty:"email address",value:h,validators:[{type:"required",chained:[{type:"email"}]}]},acceptTos:{pretty:"terms of service (TOS)",value:k,validators:[{type:"required"}]}};j&&(l.password={pretty:"password",value:g,validators:[{type:"required",chained:[{type:"strLen",args:[6,void 0]}]}]},l.passwordConfirm={pretty:"confirmed password",value:i,validators:[{type:"required",chained:[{type:"equal",
args:[g,"password"]}]}]});j=e.check(l);if(j.valid)if(c.getGoogleTokenCode())UYSocial.getGoogleToken(!0,function(a){c.signUserUp(b,f,h,null,null,null,a.code,k)});else{var m=c.getFacebookSignedRequest();c.signUserUp(b,f,h,g,i,m,null,k)}else{g=[];for(m in j.errorText)j.errorText.hasOwnProperty(m)&&(a.signUpErrorFields.push(m),g=g.concat(j.errorText[m]));a.signUpErrors=g;a.buttonDisabled=!1}};a.signUpFacebook=function(){UYSocial.getFacebookAuthResponse(function(a){c.logUserInSocial(a.signedRequest,null,
function(){c.socialAccountNotFoundRedirect(a.signedRequest,null,"signup")})})};a.signUpGoogle=function(){UYSocial.getGoogleToken(!1,function(a){c.logUserInSocial(null,a.code,function(){c.socialAccountNotFoundRedirect(null,a.code,"signup")})})};c.getFacebookSignedRequest()&&UYSocial.getFacebookMeResponse(function(b){a.email||(a.email=b.email);a.firstName||(a.firstName=b.first_name);a.lastName||(a.lastName=b.last_name);a.acceptTos=!0;a.$apply()});c.getGoogleTokenCode()&&UYSocial.getGoogleMeResponse(function(b){a.email||
(a.email=b.email);a.firstName||(a.firstName=b.given_name);a.lastName||(a.lastName=b.family_name);a.$apply()});c.addEventListener("signUp",function(){a.signUpErrors=[]});c.addEventListener("signUpSuccess",function(){c.loggedInAction()});c.addEventListener("signUpFailure",function(b){console.warn(b);a.signUpErrors=-1!==b.data.error.search(/address_lower already registered/)?["That email address is already registered at Udacity!"]:[b.data.error];a.buttonDisabled=!1})}}}]).directive("signIn",["user",
"auth","validator",function(b,c,e){return{restrict:"A",link:function(a,d){a.isLoggedIn=b.userIsLoggedIn;a.user=b.getUser;a.baseUser=b.getBaseUser;a.email="";a.password="";a.signIn=function(b,h){a.email||(b=d.find("#signInEmail").val());a.password||(h=d.find("#signInPass").val());a.buttonDisabled=!0;a.signInErrors=[];a.signInErrorFields=[];var g=e.check({email:{pretty:"email address",value:b,validators:[{type:"required",chained:[{type:"email"}]}]},password:{pretty:"password",value:h,validators:[{type:"required"}]}});
if(g.valid){var i=c.getFacebookSignedRequest();c.getGoogleTokenCode()?UYSocial.getGoogleToken(!0,function(a){c.logInAndConnect(b,h,i,a.code)}):c.logInAndConnect(b,h,i,null)}else{var k=[],j;for(j in g.errorText)g.errorText.hasOwnProperty(j)&&(a.signInErrorFields.push(j),k=k.concat(g.errorText[j]));a.signInErrors=k;a.buttonDisabled=!1}};a.signInFacebook=function(){UYSocial.getFacebookAuthResponse(function(a){c.logUserInSocial(a.signedRequest,null,function(){c.socialAccountNotFoundRedirect(a.signedRequest,
null,"signin")})})};a.signInGoogle=function(){UYSocial.getGoogleToken(!1,function(a){c.logUserInSocial(null,a.code,function(){c.socialAccountNotFoundRedirect(null,a.code,"signin")})})};c.addEventListener("logIn",function(){a.signUpErrors=[]});c.addEventListener("logInSuccess",function(){c.loggedInAction()});c.addEventListener("logInFailure",function(b){switch(b.status){case 403:a.signInErrors=["We couldn't find that user, or the password you entered was incorrect."];break;case 400:a.signInErrors=
[b.data.error];break;case 500:a.signInErrors=["Oh man, that's probably our bad. The server returned a 500 error! Try logging in again. If this doesn't work, please report this in the tech support forum."];break;default:a.signInErrors=["Oh dear. The server returned an unidentified error. Try logging in again and if it doesn't work, report this failure in the forum."]}a.buttonDisabled=!1})}}}]).directive("userMenu",["user","auth",function(b,c){return{restrict:"A",controller:["$scope",function(){}],
link:function(e){e.isLoggedIn=b.userIsLoggedIn;e.user=b.getUser;e.logOut=c.logUserOut;c.addEventListener("logOutSuccess",function(){window.location.href="/"})}}}]).directive("switchEnrollment",["user",function(b){return{restrict:"A",scope:{courseKey:"@courseKey"},controller:["$scope",function(c){c.disabled=!1;c.getActionText=function(){return b.isEnrolledIn(c.courseKey)?"Leave Class":"Join Class"}}],link:function(c,e){e.on("click",function(){c.disabled=!0;c.$apply();b.addEventListener("changeEnrollmentComplete",
function(){c.disabled=!1},{removeAfterFired:!0});b.userIsLoggedIn()?b.changeEnrollment(c.courseKey,!b.isEnrolledIn(c.courseKey)):window.location="/account/signin?next="+encodeURIComponent(window.location)})}}}]).directive("enrollResume",["user",function(b){return{restrict:"A",scope:{courseKey:"@courseKey"},controller:["$scope",function(c){c.disabled=!0;c.actionText="Loading...";b.addEventListener("userSet",function(){c.disabled=!1;c.actionText=b.isEnrolledIn(c.courseKey)?"Resume the Class":"Take the Class"},
{replayLast:!0})}],link:function(c,e){e.on("click",function(){c.disabled=!0;c.$apply();var a="/course/viewer#!/c-"+c.courseKey;b.userIsLoggedIn()?b.isEnrolledIn(c.courseKey)?window.location=a:(b.addEventListener("changeEnrollmentComplete",function(b){"enroll"===b.action&&(window.location=a)}),b.changeEnrollment(c.courseKey,!b.isEnrolledIn(c.courseKey))):window.location.href="/account/signin?"+$.param({next:a,enroll:c.courseKey})})}}}]).directive("switchCourseEmailSubscription",["user",function(b){return{restrict:"A",
scope:{courseKey:"@courseKey"},controller:["$scope",function(c){c.disabled=!1;c.show=function(){return b.isEnrolledIn(c.courseKey)};c.getActionText=function(){return b.isCourseEmailSubscribed(c.courseKey)?"Unsubscribe from course emails":"Subscribe to course emails"}}],link:function(c,e){e.on("click",function(){c.disabled=!0;c.$apply();b.addEventListener("changeEnrollmentSettingsComplete",function(){c.disabled=!1});b.changeEnrollmentSettings(c.courseKey,{email_ok:!b.isCourseEmailSubscribed(c.courseKey)})})}}}]).directive("requestPasswordReset",
["user","validator",function(b,c){return{restrict:"A",controller:["$scope",function(){}],link:function(e){e.email="";e.requestPasswordReset=function(a){e.buttonDisabled=!0;e.submitErrors=[];e.submitErrorFields=[];var d=c.check({email:{pretty:"email address",value:a,validators:[{type:"required",chained:[{type:"email"}]}]}});if(d.valid)b.requestPasswordReset(a);else{var a=[],f;for(f in d.errorText)d.errorText.hasOwnProperty(f)&&(e.submitErrorFields.push(f),a=a.concat(d.errorText[f]));e.submitErrors=
a;e.buttonDisabled=!1}};b.addEventListener("requestPasswordResetSuccess",function(){e.submitErrors=[];e.submitSuccess=!0});b.addEventListener("requestPasswordResetFailure",function(a){e.submitErrors=[a.data.error];e.buttonDisabled=!1})}}}]).directive("requestUnsubscribe",["user","validator",function(b,c){return{restrict:"A",controller:["$scope",function(){}],link:function(e){e.email="";e.requestUnsubscribe=function(a){e.buttonDisabled=!0;e.submitErrors=[];e.submitErrorFields=[];var d=c.check({email:{pretty:"email address",
value:a,validators:[{type:"required",chained:[{type:"email"}]}]}});if(d.valid)b.requestUnsubscribe(a);else{var a=[],f;for(f in d.errorText)d.errorText.hasOwnProperty(f)&&(e.submitErrorFields.push(f),a=a.concat(d.errorText[f]));e.submitErrors=a;e.buttonDisabled=!1}};b.addEventListener("requestUnsubscribeSuccess",function(){e.submitErrors=[];e.submitSuccess=!0});b.addEventListener("requestUnsubscribeFailure",function(a){e.submitErrors=[a.data.error];e.buttonDisabled=!1})}}}]).directive("enrollUnreleasedCourse",
["user",function(b){return{restrict:"A",scope:{courseKey:"@courseKey"},controller:["$scope",function(c){c.disabled=!0;c.actionText="Loading...";b.addEventListener("userSet",function(){c.disabled=!1;c.actionText=b.isEnrolledIn(c.courseKey)?"Go to My Courses":"Add to My Courses"})}],link:function(c,e){e.on("click",function(){c.disabled=!0;c.$apply();b.userIsLoggedIn()?b.isEnrolledIn(c.courseKey)?window.location="/my_courses":(b.addEventListener("changeEnrollmentComplete",function(a){"enroll"===a.action&&
(window.location="/my_courses#!/?newclass=true")}),b.changeEnrollment(c.courseKey,!b.isEnrolledIn(c.courseKey))):window.location.href="/account/signin?"+$.param({next:"/my_courses",enroll:c.courseKey})})}}}]).directive("resetPassword",["user","validator",function(b,c){return{restrict:"A",controller:["$scope",function(){}],link:function(e){e.resetPassword=function(a,d,f,h){e.buttonDisabled=!0;e.submitErrors=[];e.submitErrorFields=[];d=c.check({password:{pretty:"password",value:a,validators:[{type:"required",
chained:[{type:"strLen",args:[6,void 0]}]}]},passwordConfirm:{pretty:"confirmed password",value:d,validators:[{type:"required",chained:[{type:"equal",args:[a,"password"]}]}]}});if(d.valid)b.resetPassword(a,f,h);else{var a=[],g;for(g in d.errorText)d.errorText.hasOwnProperty(g)&&(e.submitErrorFields.push(g),a=a.concat(d.errorText[g]));e.submitErrors=a;e.buttonDisabled=!1}};b.addEventListener("resetPasswordSuccess",function(){e.submitErrors=[];e.submitSuccess=!0});b.addEventListener("resetPasswordFailure",
function(a){e.submitErrors=[a.data.error];e.buttonDisabled=!1})}}}]).directive("checkEnrollment",["user",function(b){return{restrict:"A",link:function(c,e,a){b.addEventListener("userSet",function(){c.userIsEnrolled=b.isEnrolledIn(a.courseId.replace(/'/g,""))})}}}]);
